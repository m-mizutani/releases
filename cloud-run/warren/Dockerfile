FROM ghcr.io/secmon-lab/warren:b2fab105d480e4e02722a4d11b918bc7a05360eb

COPY policy /policy

ENV WARREN_ADDR="0.0.0.0:8080"
ENV WARREN_LOG_FORMAT="json"
ENV WARREN_LOG_LEVEL=debug
ENV WARREN_POLICY=/policy
ENV WARREN_SLACK_CHANNEL_NAME="alert"
ENV WARREN_FIRESTORE_PROJECT_ID="mztn-compute"
ENV WARREN_FIRESTORE_DATABASE_ID="warren-v0"
ENV WARREN_GEMINI_PROJECT_ID="mztn-compute"
ENV WARREN_EMBEDDING_PROJECT_ID="mztn-compute"
ENV WARREN_STORAGE_BUCKET="mztn-warren"
ENV WARREN_STORAGE_PREFIX="v0/"

EXPOSE 8080
