FROM ghcr.io/secmon-lab/warren:e630216a69ebac8e13bb4632543b415572b7dd04

COPY policy /policy

ENV WARREN_ADDR="0.0.0.0:8080"
ENV WARREN_LOG_FORMAT="json"
ENV WARREN_LOG_LEVEL=debug
ENV WARREN_POLICY=/policy
ENV WARREN_SLACK_CHANNEL_NAME="alert"
ENV WARREN_FIRESTORE_PROJECT_ID="mztn-compute"
ENV WARREN_FIRESTORE_DATABASE_ID="warren-v0"
ENV WARREN_GEMINI_PROJECT_ID="mztn-compute"
ENV WARREN_EMBEDDING_PROJECT_ID="mztn-compute"
ENV WARREN_STORAGE_BUCKET="mztn-warren"
ENV WARREN_STORAGE_PREFIX="v0/"

EXPOSE 8080
